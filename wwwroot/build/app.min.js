angular.module("app-templates",[]).run(["$templateCache",function(e){e.put("app/views/error.html",'<md-content layout="column" role="main" flex layout-align="center center"><div md-whiteframe="5" layout-padding><span layout="row" md-colors="{color: \'warn-900\'}" layout-align="center center">Acceso no autorizado.</span></div></md-content>'),e.put("app/views/home.html","<div layout-margin layout-padding></div>"),e.put("app/views/internship.html",'<div layout="column" layout-align="center center"><md-card flex="100" layout="row"><div style="padding: 10px 10px 10px 10px"><md-icon>assignment</md-icon><strong layout-align="center center">Pasantias</strong></div></md-card><md-crud options="crudOptions"></md-crud></div><script type="text/ng-template" id="templateDocs.html">\x3c!-- Aqui ira el html para cargar los documentos --\x3e\r\n    <md-content>       \r\n        <md-toolbar class="md-primary">\r\n            <div class="md-toolbar-tools">\r\n                <span>Documentos del expediente</span>\r\n            </div>\r\n        </md-toolbar>        \r\n        <md-list>\r\n            <md-list-item class="md-2-line"  ng-repeat="file in item.Archivos">\r\n                <md-icon>insert_drive_file</md-icon>\r\n                <a class="md-list-item-text" href="/ART/api/download/{{file.File_Md5}}">{{file.File_Name}}</a>\r\n            </md-list-item>\r\n        </md-list>\r\n    </md-content><\/script><script type="text/ng-template" id="templateButton.html"><md-button class="md-raised md-primary" ngf-select="options.onUpload($files, item)" multiple>\r\n        <md-icon>file_upload</md-icon>Subir Archivos\r\n    </md-button><\/script>'),e.put("app/views/login.html",'<md-content role="main" layout-align="none center" layout="column" flex="100"><div flex></div><md-card layout-padding style="max-width:268px" flex="none"><div layout="column" layout-align="center center"><img src="wwwroot/images/logo.png">\x3c!--<img src="/images/e-liveConnections.png" style="width:230px;margin-top:5px" />--\x3e</div><div layout="row"></div><div><form ng-submit="login()" name="loginForm"><md-input-container class="md-icon-float md-block"><label>Usuario</label><md-icon>account_circle</md-icon><input ng-model="user.UserName" type="text" ng-required="true" autofocus></md-input-container><md-input-container md-no-float class="md-icon-float md-block"><label>Contrase√±a</label><md-icon>lock</md-icon><input ng-model="user.Password" type="password" ng-required="true"></md-input-container><span layout="row" md-colors="{color: \'warn-900\'}" ng-if="message" layout-align="center center">{{message}}</span><div layout="row" layout-align="center center"><md-button class="md-raised md-primary" type="submit">Iniciar sesion</md-button></div></form></div></md-card><div flex></div><div layout="row" flex="noshrink" layout-align="center center" style="width:100%;height:50px"><div id="license-footer"><span>{{appInfo.companyName}} </span><span>&copy;{{appInfo.devYear}}</span> <span ng-if="appInfo.thisYear != appInfo.devYear">&#8211;{{appInfo.thisYear}}</span> <span>/ {{appInfo.appName}} Ver. {{appInfo.appVersion}} {{appInfo.appEnvironment}}</span></div></div></md-content>'),e.put("app/views/main.html",'\x3c!--<md-sidenav class="site-sidenav md-sidenav-left md-whiteframe-z2"\r\n            md-component-id="left" hide-print\r\n            md-is-locked-open="$mdMedia(\'gt-sm\')">\r\n\r\n    <header class="nav-header md-primary"  md-colors="{backgroundColor: \'grey-50\'}">\r\n        <a ng-href="/" class="docs-logo">\r\n            <img src="/images/logo.png" />\r\n        </a>\r\n        <img src="/images/e-liveConnections.png" style="width:100%;margin-top:5px"/>\r\n    </header>\r\n\r\n    <md-content flex role="navigation" md-colors="{backgroundColor: \'primary-800\'}">\r\n        <ul class="docs-menu">\r\n            <li ng-repeat="section in menu.sections" class="parent-list-item {{section.className || \'\'}}" ng-class="{\'parentActive\' : isSectionSelected(section)}">\r\n                <h2 class="menu-heading md-subhead" ng-if="section.type === \'heading\'" id="heading_{{ section.name | nospace }}">\r\n                    {{section.name}}\r\n                </h2>\r\n                <menu-link section="section" ng-if="section.type === \'link\' && !section.hidden"></menu-link>\r\n\r\n                <menu-toggle section="section" ng-if="section.type === \'toggle\' && !section.hidden"></menu-toggle>\r\n\r\n                <ul ng-if="section.children" class="menu-nested-list">\r\n                    <li ng-repeat="child in section.children" ng-class="{\'childActive\' : isSectionSelected(child)}">\r\n                        <menu-link section="child" ng-if="child.type === \'link\'"></menu-link>\r\n\r\n                        <menu-toggle section="child" ng-if="child.type === \'toggle\'"></menu-toggle>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n        </ul>\r\n    </md-content>\r\n</md-sidenav>--\x3e<div layout="column" role="main" flex><div style="background-color:white"><md-toolbar class="md-whiteframe-glow-z1" md-colors="{background: \'default-primary-50-0\'}" style="height: 68px" flex><div class="md-toolbar-tools" tabindex="-1" flex><a ng-href="/ART/#/" class="docs-logo"><img src="./wwwroot/images/logo.png" style="margin-top: 9px; height: 75px"> </a><span flex></span><md-button class="md-primary" aria-label="Servicio Comunitario" ui-sref=".servicioComunitario" ui-sref-opts="{reload: true, notify: true}" ng-if="access(\'ServicioComunitario\')"><md-icon>assignment</md-icon>Servicio Comunitario</md-button><md-button class="md-primary" aria-label="Pasantias" ui-sref=".pasantias" ui-sref-opts="{reload: true, notify: true}" ng-if="access(\'Pasantias\')"><md-icon>assignment</md-icon>Pasantias</md-button><md-button class="md-primary" aria-label="Tesis y Casos clinicos" ui-sref=".tesis" ui-sref-opts="{reload: true, notify: true}" ng-if="access(\'Tesis\')"><md-icon>assignment</md-icon>Tesis y Casos clinicos</md-button><md-menu ng-if="access(\'Administration\')"><md-button aria-label="Administration" class="md-icon-button md-primary" ng-click="$mdMenu.open($event)"><md-icon>settings</md-icon><md-tooltip md-autohide>Administracion</md-tooltip></md-button><md-menu-content width="4"><md-menu-item ng-repeat="section in menuAdministration" ng-if="section.access"><md-button ui-sref="{{section.sref}}" ui-sref-opts="{reload: true, notify: true}" class="md-accent"><md-icon>{{section.icon || \'settings\'}}</md-icon>{{section.name}}</md-button></md-menu-item>\x3c!--<md-menu-divider></md-menu-divider>--\x3e</md-menu-content></md-menu><div ng-if="authData.isAuthenticated" style="font-size: 15px" md-colors="{color: \'default-primary\'}">{{authData.name}}</div><md-button class="md-icon-button md-primary" aria-label="Salir" ng-if="authData.isAuthenticated" ng-click="logout()"><md-tooltip md-autohide>Desconectarse</md-tooltip><md-icon>exit_to_app</md-icon></md-button></div></md-toolbar></div><md-content md-scroll-y layout="column" flex><div ui-view></div><div flex></div><div layout="row" flex="none" layout-align="center center" style="width:100%"><div id="license-footer" flex><span>{{appInfo.companyName}} </span><span>&copy;{{appInfo.devYear}}</span> <span ng-if="appInfo.thisYear != appInfo.devYear">&#8211;{{appInfo.thisYear}}</span> <span>/ {{appInfo.appName}} Ver. {{appInfo.appVersion}} {{appInfo.appEnvironment}}</span></div></div></md-content></div>'),e.put("app/views/roleAdmin.html",'<div layout-padding layout="column" layout-align="start center"><div><div layout="row" layout-align="start center"><md-icon layout-margin>verified_user</md-icon><strong flex>Manage user profiles</strong></div><md-crud options="crudOptions"></md-crud></div></div><script type="text/ng-template" id="templateClaimTypeTree"><div ng-click="claimType.AccessLevelTypes.length == 0 && options.filterClaim(claimType)" \r\n         layout-padding layout="row" layout-align="start center" style="cursor:pointer"\r\n         class="md-selectable" md-ink-ripple="true" ng-class="{ \'md-selected\': options.claimTypeSelected == claimType }">\r\n        <md-icon style="font-size: 20px;padding-right: 0px;padding-top: 1px;" flex="none">{{claimType.AccessLevelTypes.length > 0 ? \'keyboard_arrow_down\' : \'keyboard_arrow_right\'}}</md-icon>\r\n        <span flex>{{ claimType.Description }}</span>\r\n        <span ng-if="claimType.AccessLevelTypes.length == 0">({{ options.countClaims(claimType, item) }})</span>\r\n    </div>\r\n    <div ng-repeat="claimType in claimType.AccessLevelTypes" ng-include="\'templateClaimTypeTree\'" style="margin-left:10px"></div><\/script><script type="text/ng-template" id="templateRoleClaim.html"><md-card layout="row">\r\n        <div flex="40" style="background-color: rgba(205, 205, 205, 0.35);font-size: 13px;">\r\n            <div ng-repeat="claimType in options.claimTypes" ng-include="\'templateClaimTypeTree\'"></div>\r\n        </div>\r\n        <div flex>\r\n            <div layout="row" style="background-color: rgba(205, 205, 205, 0.15);padding:10px" layout-align="center center">\r\n                <span>{{ options.claimTypeSelected.Description }}</span>\r\n                <div flex></div>\r\n                <div layout="row">\r\n                    <md-button class="md-icon-button md-primary" ng-disabled="true">\r\n                        <md-icon>&#xE8B6;</md-icon>\r\n                    </md-button>\r\n                    <md-autocomplete md-search-text="options.searchText" type="search" placeholder="" md-items="item in []"></md-autocomplete>\r\n                </div>\r\n            </div>\r\n            <md-virtual-repeat-container id="vertical-container" ng-if="options.claimTypeSelected" style="height:400px">\r\n                <div md-virtual-repeat="claim in options.claims | filter:options.claimFilter | filter:options.searchText" class="repeated-item" layout="row">\r\n                    <md-checkbox ng-checked="options.isCheckedClaim(claim, item) != -1 || (options.claimTypeSelected.countSelected == \'All\' && (claim.Value != \'All\' || claim.Value != \'0\'))"\r\n                                 ng-disabled="isLoading || (options.claimTypeSelected.countSelected == \'All\' && claim.Value != \'All\' && claim.Value != \'0\')"\r\n                                 ng-click="options.toggleClaim(claim, item)" aria-label="claim.Description" style="margin:10px">\r\n                        {{ claim.Description }}\r\n                    </md-checkbox> \r\n                </div>\r\n            </md-virtual-repeat-container>\r\n        </div>\r\n    </md-card><\/script>'),e.put("app/views/serviceCommunitary.html",'<div layout="column" layout-align="center center"><md-card flex="100" layout="row"><div style="padding: 10px 10px 10px 10px"><md-icon>assignment</md-icon><strong layout-align="center center">Servicio comunitario</strong></div></md-card><md-crud options="crudOptions"></md-crud></div><script type="text/ng-template" id="templateDocs.html">\x3c!-- Aqui ira el html para cargar los documentos --\x3e\r\n    <md-content>       \r\n        <md-toolbar class="md-primary">\r\n            <div class="md-toolbar-tools">\r\n                <span>Documentos del expediente</span>\r\n            </div>\r\n        </md-toolbar>        \r\n        <md-list>\r\n            <md-list-item class="md-2-line"  ng-repeat="file in item.Archivos">\r\n                <md-icon>insert_drive_file</md-icon>\r\n                <a class="md-list-item-text" href="/ART/api/download/{{file.File_Md5}}">{{file.File_Name}}</a>\r\n            </md-list-item>\r\n        </md-list>\r\n    </md-content><\/script><script type="text/ng-template" id="templateButton.html"><md-button class="md-raised md-primary" ngf-select="options.onUpload($files, item)" multiple>\r\n        <md-icon>file_upload</md-icon>Subir Archivos\r\n    </md-button><\/script>'),e.put("app/views/systemactivity.html",'<div layout-padding layout="column" layout-align="start center"><div><div layout="row" layout-align="start center"><md-icon layout-margin>verified_user</md-icon><strong flex>Reporte de actividades</strong></div><md-crud options="crudOptions"></md-crud></div></div>'),e.put("app/views/thesis.html",'<div layout="column" layout-align="center center"><md-card flex="100" layout="row"><div style="padding: 10px 10px 10px 10px"><md-icon>assignment</md-icon><strong layout-align="center center">Trabajo especiales de grado</strong></div></md-card><md-crud options="crudOptions"></md-crud></div><script type="text/ng-template" id="templateDocs.html">\x3c!-- Aqui ira el html para cargar los documentos --\x3e\r\n    <md-content>       \r\n        <md-toolbar class="md-primary">\r\n            <div class="md-toolbar-tools">\r\n                <span>Documentos del expediente</span>\r\n            </div>\r\n        </md-toolbar>        \r\n        <md-list>\r\n            <md-list-item class="md-2-line"  ng-repeat="file in item.Archivos">\r\n                <md-icon>insert_drive_file</md-icon>\r\n                <a class="md-list-item-text" href="/ART/api/download/{{file.File_Md5}}">{{file.File_Name}}</a>\r\n            </md-list-item>\r\n        </md-list>\r\n    </md-content><\/script><script type="text/ng-template" id="templateButton.html"><md-button class="md-raised md-primary" ngf-select="options.onUpload($files, item)" multiple>\r\n        <md-icon>file_upload</md-icon>Subir Archivos\r\n    </md-button><\/script>'),e.put("app/views/userAdmin.html",'<div layout-padding layout="column" layout-align="start center"><div><div layout="row" layout-align="start center"><md-icon layout-margin>supervisor_account</md-icon><strong flex>Administrar Usuarios</strong></div><md-crud options="crudOptions"></md-crud></div></div>')}]),window.deferredBootstrapper.bootstrap({element:window.document.body,module:"app"}),function(){"use strict";var e=angular.module("app",["ngAnimate","ngMessages","ngCookies","ngSanitize","ui.router","ngMaterial","md.data.table","LocalStorageModule","angular-loading-bar","lfNgMdFileInput","angularCSS","app-templates","mdCrudModule","ng-scroll-bar","ngFileUpload"]);e.config(["$httpProvider",function(e){e.defaults.headers.get||(e.defaults.headers.get={}),e.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",e.defaults.headers.get["Cache-Control"]="no-cache",e.defaults.headers.get.Pragma="no-cache"}]),e.run(["mdCrudService","$locale",function(e,t){t.DATETIME_FORMATS.shortDate="MM/dd/yyyy",t.DATETIME_FORMATS.short="MM/dd/yyyy HH:mm",e.setDefaultOptions({rootApi:"./api",methodDelete:"PATCH",urlDelete:"{{rootApi}}/{{entity}}/DeleteItem/{{id}}",functionData:function(e,t,n){e.data.error?n(e.data):t(e)}}),e.setDefaultText({editTitle:"Editar",detailTitle:"Detalle",createTitle:"Crear",deleteError:"Error al intentar eliminar la fila",deleteErrorTitle:"Error al eliminar",deleteConfirmTitle:"Eliminar",deleteConfirmMessage:"ÔøΩEsta usted seguro de eliminar la fila?",tablePaginationPage:"Pagina:",tablePaginationRowsPerPage:"Filas por pagina:",tablePaginationOf:"de",createOption:"Crear",btnConfirmOk:"Si",btnConfirmCancel:"No",btnAlertOk:"Aceptar",generalErrorTitle:"Error",messageRequired:"Requerido",messageMinlength:"Longitud mÔøΩnima",messageMaxlength:"Longitud mÔøΩxima",messagePattern:"Formato de entrada no valido.",messageMin:"Valor mÔøΩnimo",messageMax:"valor mÔøΩximo",messageMimetype:"Tipo de archivo no valido",messageValid:"Formato de entrada no valido.",messageMindate:"Fecha mÔøΩnima",messageMaxdate:"Fecha mÔøΩxima",formCancel:"Cancelar",formSubmit:"Guardar"})}])}(),function(){"use strict";function e(e,t,n,i,a,r,o){r.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div><md-backdrop class="md-dialog-backdrop md-opaque ng-scope" style="position: fixed;z-index:1000" aria-hidden="true"></md-backdrop>';e.state("main",{url:"",templateUrl:"app/views/main.html",controller:"mainController",abstract:!0}).state("main.home",{url:"/",templateUrl:"app/views/home.html",controller:"homeController"}).state("main.error",{url:"/error",templateUrl:"app/views/error.html"}).state("login",{url:"/login",templateUrl:"app/views/login.html",controller:"loginController",data:{title:"Login"}}).state("main.useradmin",{url:"/useradmin",templateUrl:"app/views/userAdmin.html",controller:"useradminController",resolve:{authorize:["identityService",function(e){return e.isAuthorize("Administration")}]}}).state("main.activity",{url:"/systemactivity",templateUrl:"app/views/systemactivity.html",controller:"systemactivityController",resolve:{authorize:["identityService",function(e){return e.isAuthorize("Administration")}]}}).state("main.roleAdmin",{url:"/roleAdmin",templateUrl:"app/views/roleAdmin.html",controller:"roleAdminController",resolve:{authorize:["identityService",function(e){return e.isAuthorize()}]}}).state("main.servicioComunitario",{url:"/serviceCommunitary",templateUrl:"app/views/serviceCommunitary.html",controller:"serviceCommunitaryController",resolve:{authorize:["identityService",function(e){return e.isAuthorize("ServicioComunitario")}]}}).state("main.pasantias",{url:"/internship",templateUrl:"app/views/internship.html",controller:"internshipController",resolve:{authorize:["identityService",function(e){return e.isAuthorize("Pasantias")}]}}).state("main.tesis",{url:"/thesis",templateUrl:"app/views/thesis.html",controller:"thesisController",resolve:{authorize:["identityService",function(e){return e.isAuthorize("Tesis")}]}}),t.otherwise("/"),a.interceptors.push("identityInterceptorService"),o.formatDate=function(e){return moment(e).format("MM/DD/YY")},n.theme("default").primaryPalette("blue",{default:"800"}).accentPalette("orange",{default:"500"}).warnPalette("red")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$mdThemingProvider","$mdIconProvider","$httpProvider","cfpLoadingBarProvider","$mdDateLocaleProvider"]}(),function(){angular.module("app").controller("homeController",["identityService","$scope","$rootScope","$timeout",function(e,t,n,i){n.title="",e.isAuthorize().then(function(){})}])}(),function(){angular.module("app").controller("internshipController",["$scope","$rootScope","$mdDialog","mdCrudService","Upload",function(e,t,n,i,a){t.title="Informes de Servicio Comunitario",e.crudOptions={entity:"internships",id:"Id_Report",noDelete:!0,noDetailButtons:!0,fields:[{name:"Report_Name",label:"Titulo de informe",type:"text",required:!0},{name:"isApproved",label:"Esta aprobado?",type:"select",value:"Id",text:"Text",data:function(){return e.crudOptions.Aprobado},required:!0},{name:"Students",label:"Estudiantes",type:"text",required:!0},{name:"Id_Career",label:"Carrera",type:"select",value:"Id_Career",text:"Name_Career",data:function(){return e.crudOptions.Carrera},required:!0},{name:"Observations",label:"Observaciones",type:"textarea",columnHidden:!0,required:!0},{templateUrl:"templateDocs.html",detailHidden:!0},{templateUrl:"templateButton.html",detailHidden:!0}],form:{onSubmit:function(){},onEdit:function(e,t){i.get({entity:"getfile/"+e.Id_Report}).then(function(t){e.Archivos=t.data})}},onDownload:function(e){i.get({entity:"download/"+e})},onUpload:function(e,t){t.Archivos||(t.Archivos=[]);var n=t.Archivos.length;a.base64DataUrl(e).then(function(i){for(var a in i)t.Archivos[parseInt(a)+n]={File_Name:e[a].name,Base64:i[a]}})},Carrera:null,Aprobado:[{Id:"0",Text:"No"},{Id:"1",Text:"Si"}]},i.get({entity:"systemactivity/getcareer"}).then(function(t){e.crudOptions.Carrera=t.data})}])}(),function(){angular.module("app").controller("loginController",["identityService","$scope","$state","$cookies",function(e,t,n,i){t.message="",t.user={},t.login=function(){e.login(t.user).then(function(){n.go("main.home")},function(e){t.message=e.error})},t.appInfo={},e.getAppInfo().then(function(e){t.appInfo=e})}])}(),function(){angular.module("app").controller("mainController",["$mdSidenav","$mdBottomSheet","$log","$q","$state","$mdToast","$scope","$rootScope","identityService",function(e,t,n,i,a,r,o,l,s){o.authData=s.authentication,o.logout=function(){s.logOut().then(function(){a.go("login")},function(){a.go("login")})},o.appInfo={},s.getAppInfo().then(function(e){o.appInfo=e}),s.fillAuthData().then(function(){o.menuAdministration=[{name:"Administrar Usuarios",sref:".useradmin",icon:"supervisor_account",access:o.access("Administration")},{name:"Reporte de actividades",sref:".activity",icon:"today",access:o.access("Administration")}]}),o.access=function(e){return s.haveAccess("All")||s.haveAccess(e)},o.menu={sections:[{name:"Administrar Usuarios",sref:".useradmin",type:"link",access:"Administration"},{name:"Reporte de actividades",sref:".activity",type:"link",access:"Administration"}]},o.openMenu=function(){e("left").toggle()},o.login={isLoged:!0,logout:function(){}},l.title="",this.selectSection=function(e){o.menu.currentSection=e},o.isSectionSelected=this.isOpen=function(e){return o.menu.openedSection==e},this.isSelected=function(e){return o.menu.currentSection==e},this.toggleOpen=function(e){o.menu.openedSection=o.menu.openedSection===e?null:e},this.autoFocusContent=!1}])}(),function(){angular.module("app").controller("roleAdminController",["$scope","$rootScope","identityService","mdCrudService",function(e,t,n,i){t.title="Manage user profiles";var a=e.crudOptions={entity:"Role",id:"Id",editOnSelect:!0,formType:"window",windowFlex:70,fields:[{name:"Name",label:"Name",type:"text",required:!0,readonly:!1,flex:50},{name:"RoleTypeId",label:"Role type",type:"select",value:"RoleTypeId",text:"Description",required:!0,entity:"Role/GetRoleTypes",flex:50},{templateUrl:"templateRoleClaim.html",columnHiden:!0},{name:"CreatedBy",label:"Created by",createHiden:!0,detailHiden:!0,editHiden:!0}],form:{onOpen:function(e){e.Claims=[]},onEdit:function(e){}},deleteConfirmMessage:"Are you sure you want to delete the user profile: {{Name}}.",isCheckedClaim:function(e,t){for(var n=0;n<t.Claims.length;n++)if(e.AccessLevelTypeId==t.Claims[n].AccessLevelTypeId&&e.Value==t.Claims[n].Value)return n;return-1},toggleClaim:function(t,n){var i=e.crudOptions.isCheckedClaim(t,n);if(i>-1)n.Claims.splice(i,1);else{if("All"==t.Value||"0"==t.Value)for(var a=n.Claims.length-1;a>=0;a--)t.AccessLevelTypeId==n.Claims[a].AccessLevelTypeId&&n.Claims.splice(a,1);n.Claims.push({AccessLevelTypeId:t.AccessLevelTypeId,Value:t.Value})}},filterClaim:function(t){e.crudOptions.claimTypeSelected=t,a.searchText=""},claimTypeFilter:function(e,t){return!e.AccessLevelTypeParentId&&!t.AccessLevelTypeParentId||e.AccessLevelTypeParentId==t.AccessLevelTypeParentId},claimFilter:function(t,n,i){return t.AccessLevelTypeId==e.crudOptions.claimTypeSelected.AccessLevelTypeId},claimRootFilter:function(e,t,n){return!e.AccessLevelTypeParentId},claimTypeGetParent:function(t){if(t.AccessLevelTypeParentId)for(var n in e.crudOptions.claimTypes)if(e.crudOptions.claimTypes[n].AccessLevelTypeId==t.AccessLevelTypeParentId)return e.crudOptions.claimTypes[n];return null},claimTypeSelectdParents:function(){for(var t=[],n=e.crudOptions.claimTypeSelected;n&&n.AccessLevelTypeId;)t.unshift(n),n=e.crudOptions.claimTypeGetParent(n);return t},clainTypeContainChildren:function(t){for(var n in e.crudOptions.claimTypes){if(e.crudOptions.claimTypes[n].AccessLevelTypeParentId==t.AccessLevelTypeId)return!0}return!1},countClaims:function(e,t){var n=0;for(var i in t.Claims)if(e.AccessLevelTypeId==t.Claims[i].AccessLevelTypeId){if("All"==t.Claims[i].Value||"0"==t.Claims[i].Value)return e.countSelected="All","All";n++}return e.countSelected=n,n},claimTypeSelected:{},claimTypes:[],claims:[]};i.get({entity:"Role/GetClaimTypes"}).then(function(t){e.crudOptions.claimTypes=t.data}),i.get({entity:"Role/GetClaims"}).then(function(t){e.crudOptions.claims=t.data})}])}(),function(){angular.module("app").controller("serviceCommunitaryController",["$scope","$rootScope","$mdDialog","mdCrudService","Upload",function(e,t,n,i,a){t.title="Informes de Servicio Comunitario",e.crudOptions={entity:"scommunitary",id:"Id_Report",noDetailButtons:!0,noDelete:!0,fields:[{name:"Report_Name",label:"Titulo de informe",type:"text",required:!0},{name:"isApproved",label:"Esta aprobado?",type:"select",value:"Id",text:"Text",data:function(){return e.crudOptions.Aprobado},required:!0},{name:"Students",label:"Estudiantes",type:"text",required:!0},{name:"Id_Career",label:"Carrera",type:"select",value:"Id_Career",text:"Name_Career",data:function(){return e.crudOptions.Carrera},required:!0},{name:"Observations",label:"Observaciones",type:"textarea",columnHidden:!0,required:!0},{templateUrl:"templateDocs.html",detailHidden:!0},{templateUrl:"templateButton.html",detailHidden:!0}],form:{onSubmit:function(){},onEdit:function(e,t){i.get({entity:"getfile/"+e.Id_Report}).then(function(t){e.Archivos=t.data})}},onDownload:function(e){i.get({entity:"download/"+e})},onUpload:function(e,t){t.Archivos||(t.Archivos=[]);var n=t.Archivos.length;a.base64DataUrl(e).then(function(i){for(var a in i)t.Archivos[parseInt(a)+n]={File_Name:e[a].name,Base64:i[a]}})},Carrera:null,Aprobado:[{Id:"0",Text:"No"},{Id:"1",Text:"Si"}]},i.get({entity:"systemactivity/getcareer"}).then(function(t){e.crudOptions.Carrera=t.data})}])}(),function(){angular.module("app").controller("systemactivityController",["$scope","$rootScope","$mdDialog","mdCrudService",function(e,t,n,i){t.title="Reporte de actividades",e.crudOptions={entity:"systemactivity",id:"Id_User_Log",noEdit:!0,noCreate:!0,noDetail:!0,noDelete:!0,fields:[{name:"Id_User",label:"Usuario",type:"select",value:"Id_User",text:"User_Name",data:function(){return e.crudOptions.Usuarios}},{name:"Date_Time",label:"Fecha de la accion",type:"Date"},{name:"Event",label:"Evento"}],Usuarios:null},i.get({entity:"user"}).then(function(t){e.crudOptions.Usuarios=t.data})}])}(),function(){angular.module("app").controller("thesisController",["$scope","$rootScope","$mdDialog","mdCrudService","Upload",function(e,t,n,i,a){t.title="Informes de Servicio Comunitario",e.crudOptions={entity:"thesis",id:"Id_Report",noDelete:!0,noDetailButtons:!0,fields:[{name:"Report_Name",label:"Titulo de informe",type:"text",required:!0},{name:"isApproved",label:"Esta aprobado?",type:"select",value:"Id",text:"Text",data:function(){return e.crudOptions.Aprobado},required:!0},{name:"Students",label:"Estudiantes",type:"text",required:!0},{name:"Id_Career",label:"Carrera",type:"select",value:"Id_Career",text:"Name_Career",data:function(){return e.crudOptions.Carrera},required:!0},{name:"Observations",label:"Observaciones",type:"textarea",columnHidden:!0,required:!0},{templateUrl:"templateDocs.html",detailHidden:!0},{templateUrl:"templateButton.html",detailHidden:!0}],form:{onSubmit:function(){},onEdit:function(e,t){i.get({entity:"getfile/"+e.Id_Report}).then(function(t){e.Archivos=t.data})}},onDownload:function(e){i.get({entity:"download/"+e})},onUpload:function(e,t){t.Archivos||(t.Archivos=[]);var n=t.Archivos.length;a.base64DataUrl(e).then(function(i){for(var a in i)t.Archivos[parseInt(a)+n]={File_Name:e[a].name,Base64:i[a]}})},Carrera:null,Aprobado:[{Id:"0",Text:"No"},{Id:"1",Text:"Si"}]},i.get({entity:"systemactivity/getcareer"}).then(function(t){e.crudOptions.Carrera=t.data})}])}(),function(){angular.module("app").controller("useradminController",["$scope","$rootScope","$mdDialog","$state","mdCrudService",function(e,t,n,i,a){t.title="Administrar Usuarios",e.crudOptions={entity:"user",id:"Id_User",noDetailButtons:!0,fields:[{name:"User_Name",label:"Nombre de Usuario",type:"text",required:!0},{name:"Id_Role",label:"Roles",type:"select",value:"Id_Role",text:"Name_Role",data:function(){return e.crudOptions.Roles},required:!0},{name:"First_Name",label:"Nombre",type:"text",required:!0},{name:"Last_Name",label:"Apellido",type:"text",required:!0},{name:"Date_Created",label:"Fecha de creacion",type:"date",createHidden:!0,editHidden:!0,required:!0},{name:"Password",label:"Contrase√±a",type:"text",columnHidden:!0,detailHidden:!0,required:!0}],Roles:null},a.get({entity:"role"}).then(function(t){e.crudOptions.Roles=t.data})}])}(),function(){angular.module("app").directive("menuLink",function(){return{scope:{section:"="},template:'<md-button\n    ng-class="{\'active\' : isSelected()}"\n    ui-sref="{{section.sref}}" ui-sref-opts="{reload: true, notify: true}"  ng-click="focusSection()">\n  {{section | humanizeDoc}}\n  <span class="md-visually-hidden"\n    ng-if="isSelected()">\n    current page\n  </span>\n</md-button>\n',link:function(e,t){var n=t.parent().controller();e.isSelected=function(){return n.isSelected(e.section)},e.focusSection=function(){n.selectSection(e.section),n.autoFocusContent=!0}}}}).directive("menuToggle",["$timeout","$mdUtil",function(e,t){return{scope:{section:"="},template:'<md-button class="md-button-toggle"\n  ng-click="toggle()"\n  aria-controls="docs-menu-{{section.name | nospace}}"\n  aria-expanded="{{isOpen()}}">\n  <div flex layout="row">\n    {{section.name}}\n    <span flex></span>\n    <span aria-hidden="true" class="md-toggle-icon"\n    ng-class="{\'toggled\' : isOpen()}">\n      <md-icon>keyboard_arrow_down</md-icon>\n    </span>\n  </div>\n  <span class="md-visually-hidden">\n    Toggle {{isOpen()? \'expanded\' : \'collapsed\'}}\n  </span>\n</md-button>\n\n<ul id="docs-menu-{{section.name | nospace}}" class="menu-toggle-list">\n  <li ng-repeat="page in section.pages">\n    <menu-link section="page"></menu-link>\n  </li>\n</ul>\n',link:function(n,i){var a=i.parent().controller();n.isOpen=function(){return a.isOpen(n.section)},n.toggle=function(){a.toggleOpen(n.section)},t.nextTick(function(){n.$watch(function(){return a.isOpen(n.section)},function(n){t.nextTick(function(){var a=i.find("ul"),r=a[0].querySelector("a.active"),o=document.querySelector(".docs-menu").parentNode,l=n?function(){var e;return a.addClass("no-transition"),a.css("height",""),e=a.prop("clientHeight"),a.css("height",0),a.removeClass("no-transition"),e}():0;e(function(){a.css({height:l+"px"}),n&&r&&r.offsetParent&&0===a[0].scrollTop&&e(function(){var e=r.scrollHeight,n=r.offsetTop,i=r.offsetParent.offsetTop,a=2*e,l=n+i-a;t.animateScrollTo(o,l)},350,!1)},0,!1)},!1)})});var r=i[0].parentNode.parentNode.parentNode;if(r.classList.contains("parent-list-item")){var o=r.querySelector("h2");i[0].firstChild.setAttribute("aria-describedby",o.id)}}}}]).directive("compareTo",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(e,t,n,i){i.$validators.compareTo=function(t){return t==e.otherModelValue},e.$watch("otherModelValue",function(){i.$validate()})}}}).directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,n,i){var a=e(i.fileModel),r=a.assign;n.bind("change",function(){t.$apply(function(){r(t,n[0].files[0])})})}}}]).directive("scopeElement",function(){return{restrict:"A",replace:!1,scope:{scopeElement:"="},link:function(e,t,n){e.scopeElement=t[0]}}})}(),function(){angular.module("app").filter("nospace",function(){return function(e){return e?e.replace(/ /g,""):""}}).filter("humanizeDoc",function(){return function(e){if(e)return"directive"===e.type?e.name.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}):e.label||e.name}}).filter("notIntersect",function(){return function(e,t){return e.filter(function(e){return-1==t.indexOf(e)})}})}(),function(){"use strict";function e(e,t,n){var i={};return{get:function(){return e(function(e,t){e(i)})}}}angular.module("app").service("appConfigService",["$q","$timeout","$http",e])}(),function(){"use strict";function e(){return{getFilters:function(){return{fields:[{name:"awbBl",label:"AWB / BL",type:"text",flex:"20",hideErrorMsg:!0},{name:"shipmentID",label:"Shipment ID",type:"text",flex:"20",hideErrorMsg:!0},{name:"status",label:"Status",type:"select",flex:"20",hideErrorMsg:!0,data:[{value:"ON TIME",text:"On time",color:"green"},{value:"DELAYED",text:"Delayed",color:"red"}],multiple:!1,showSearch:!1,emptyOption:"All",templateSelect:'<md-icon style="color: {{option.color}} !important">label</md-icon><span flex>{{option.text}}</span>'},{
name:"shipmentStatus",label:"Shipment status",type:"select",flex:"20",hideErrorMsg:!0,data:[{value:"Not Departed",text:"Not Departed",color:"gray"},{value:"Departed",text:"Departed",color:"#ffe200"},{value:"In Transit",text:"In Transit",color:"blue"},{value:"Arrived",text:"Arrived",color:"purple"},{value:"Delivered",text:"Delivered",color:"green"}],multiple:!0,showSearch:!1,templateSelect:'<md-icon style="color: {{option.color}} !important">label</md-icon><span flex>{{option.text}}</span>'},{name:"transportarionMode",label:"Transportarion Mode",type:"select",flex:"20",hideErrorMsg:!0,data:[{value:"A",text:"Air"},{value:"O",text:"Ocean"}],multiple:!1,showSearch:!1,emptyOption:"All"},{name:"countryOrigin",label:"Country origin",type:"select",flex:"20",hideErrorMsg:!0,entity:"FiltersData/GetOriginCountries",multiple:!0,showSearch:!0},{name:"countryDestination",label:"Country destination",type:"select",flex:"20",hideErrorMsg:!0,entity:"FiltersData/GetDestinationCountries",multiple:!0,showSearch:!0},{name:"cityOrigin",label:"City origin",type:"select",flex:"20",hideErrorMsg:!0,entity:"FiltersData/GetOriginCity",multiple:!0,showSearch:!0},{name:"cityDestination",label:"City destination",type:"select",flex:"20",hideErrorMsg:!0,entity:"FiltersData/GetDestinationCity",multiple:!0,showSearch:!0},{name:"FFW",label:"AGENT / FFWD",type:"select",flex:"20",hideErrorMsg:!0,entity:"FiltersData/GetFFWs",multiple:!0,showSearch:!0},{name:"dateFrom",label:"From date",type:"date",flex:"20",hideErrorMsg:!0},{name:"dateTo",label:"To date",type:"date",flex:"20",hideErrorMsg:!0},{name:"consigne",label:"Consignee",type:"text",flex:"20",hideErrorMsg:!0},{name:"comodity",label:"Commodity",type:"text",flex:"20",hideErrorMsg:!0},{name:"containerNumber",label:"Container number",type:"text",flex:"20",hideErrorMsg:!0}]}}}}angular.module("app").service("filtersService",[e])}(),function(){"use strict";function e(e,t){var n={},i=function(n){if(401===n.status){var i=t.get("identityService");i.redirect()}if(404===n.status){var i=t.get("identityService");i.redirect()}return e.reject(n)};return n.responseError=i,n}angular.module("app").factory("identityInterceptorService",["$q","$injector",e])}(),function(){"use strict";angular.module("app").factory("identityService",["$http","$q","$state","localStorageService",function(e,t,n,i){var a={},r={isAuthenticated:!1,name:"",claims:[]},o=function(n){var a=t.defer();return e.post("./api/Identity/Login",n).then(function(t){if(t.data.error)return void a.reject(t.data);e.get("./api/Identity/GetUserInfo").then(function(e){if(e.data.error)return void a.reject(e.data);e.data.isAuthenticated?(i.set("authorizationData",e.data),r.isAuthenticated=!0,r.name=e.data.name,r.claims=e.data.claims,a.resolve(r)):(l(),a.reject({error:"Usuario no autentificado."}))},function(e,t){l(),a.reject(e)})},function(e,t){l(),a.reject(e)}),a.promise},l=function(){return t(function(t,n){r.isAuthenticated?e.post("./api/Identity/LogOff").then(function(){i.remove("authorizationData"),r.isAuthenticated=!1,r.name="",r.claims=[],t()},function(e){n(e)}):(i.remove("authorizationData"),r.isAuthenticated=!1,r.name="",r.claims=[],t())})},s=function(){var n=t.defer();return e.get("./api/Identity/GetUserInfo").then(function(e){if(e.data.error)return void n.reject(e.data);e.data.isAuthenticated?(i.set("authorizationData",e.data),r.isAuthenticated=!0,r.name=e.data.name,r.claims=e.data.claims,n.resolve(r)):(l(),n.reject({error:"Usuario no autentificado."}))},function(e,t){l(),n.reject(e)}),n.promise},c=function(){r.isAuthenticated?n.go("main.error"):(l(),n.go("login"))},d=function(e){return t(e?function(t,n){u(e)?t():n()}:function(e,t){r.isAuthenticated?e():s().then(function(t){e(t)},function(e){n.go("login"),t(e)})})},m=function(){return t(function(t,n){e.get("./api/Identity/GetAppInfo").then(function(e){if(e.data.error)return void n(e.data);t(e.data)},function(e,t){n(e)})})},u=function(e){return!!(r.claims&&r.claims.length>0)&&-1!=r.claims.indexOf(e)};return a.login=o,a.logOut=l,a.fillAuthData=s,a.authentication=r,a.redirect=c,a.isAuthorize=d,a.getAppInfo=m,a.haveAccess=u,a}])}(),function(){"use strict";function e(e){return{showConfirm:function(t,n,i,a){i=i||"Si",a=a||"No";var r=e.confirm().title(t).ariaLabel(t).textContent(n).ok(i).cancel(a);return e.show(r)},showAlert:function(t,n){e.show(e.alert().clickOutsideToClose(!0).title(t).ariaLabel(t).textContent(n).ok("Continuar"))}}}angular.module("app").service("toolsService",["$mdDialog",e])}();